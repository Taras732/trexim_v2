# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Supabase –¥–ª—è Trexim

## –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É Supabase

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [supabase.com](https://supabase.com)
2. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—è –∞–±–æ —É–≤—ñ–π–¥—ñ—Ç—å
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New Project"**
4. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å:
   - **Name**: trexim-blog
   - **Database Password**: –∑–±–µ—Ä–µ–∂—ñ—Ç—å –Ω–∞–¥—ñ–π–Ω–∏–π –ø–∞—Ä–æ–ª—å
   - **Region**: –æ–±–µ—Ä—ñ—Ç—å –Ω–∞–π–±–ª–∏–∂—á–∏–π (Europe West –¥–ª—è –£–∫—Ä–∞—ó–Ω–∏)
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create new project"** (–∑–∞–π–º–µ 1-2 —Ö–≤–∏–ª–∏–Ω–∏)

## –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

1. –í Supabase Dashboard –ø–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **SQL Editor** (–ª—ñ–≤–∞ –ø–∞–Ω–µ–ª—å)
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New query"**
3. –°–∫–æ–ø—ñ—é–π—Ç–µ –≤–µ—Å—å –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—É `supabase-schema.sql` —Ç–∞ –≤—Å—Ç–∞–≤—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Run"** (–∞–±–æ F5)
5. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ —Ç–∞–±–ª–∏—Ü—ñ —Å—Ç–≤–æ—Ä–∏–ª–∏—Å—è: **Database** ‚Üí **Tables**
   - –ü–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏: `blog_posts`, `blog_images`

## –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Storage –¥–ª—è –∑–æ–±—Ä–∞–∂–µ–Ω—å

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **Storage** (–ª—ñ–≤–∞ –ø–∞–Ω–µ–ª—å)
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create a new bucket"**
3. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å:
   - **Name**: images
   - **Public bucket**: ‚úÖ –¢–∞–∫ (–¥–ª—è –ø—É–±–ª—ñ—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ –∑–æ–±—Ä–∞–∂–µ–Ω—å)
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create bucket"**

## –ö—Ä–æ–∫ 4: –û—Ç—Ä–∏–º–∞–Ω–Ω—è API –∫–ª—é—á—ñ–≤

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **Settings** ‚Üí **API** (–ª—ñ–≤–∞ –ø–∞–Ω–µ–ª—å)
2. –ó–Ω–∞–π–¥—ñ—Ç—å —Ä–æ–∑–¥—ñ–ª **Project API keys**
3. –°–∫–æ–ø—ñ—é–π—Ç–µ:
   - **Project URL** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `https://xxxxx.supabase.co`)
   - **anon public** –∫–ª—é—á (–ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ `eyJ...`)

## –ö—Ä–æ–∫ 5: –î–æ–¥–∞–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è

1. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É (—è–∫—â–æ –π–æ–≥–æ —â–µ –Ω–µ–º–∞—î)
2. –î–æ–¥–∞–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ:

```env
# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGci...–≤–∞—à_–∫–ª—é—á
```

3. **–í–ê–ñ–õ–ò–í–û**: –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ `.env.local` —î –≤ `.gitignore`

## –ö—Ä–æ–∫ 6: –ú—ñ–≥—Ä–∞—Ü—ñ—è —ñ—Å–Ω—É—é—á–∏—Ö –¥–∞–Ω–∏—Ö

–ü—ñ—Å–ª—è —Ç–æ–≥–æ —è–∫ –Ω–∞–ª–∞—à—Ç—É–≤–∞–ª–∏ Supabase:

```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å tsx –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è TypeScript —Å–∫—Ä–∏–ø—Ç—ñ–≤
npm install -D tsx

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å –º—ñ–≥—Ä–∞—Ü—ñ—é
npx tsx scripts/migrate-to-supabase.ts
```

–í–∏ –ø–æ–±–∞—á–∏—Ç–µ:
```
üöÄ Starting migration...
üìù Found 6 posts to migrate
‚úÖ Migrated: "–ï-–¢–¢–ù 2026: –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞—Ç–∏ –±—ñ–∑–Ω–µ—Å—É –≤–∂–µ –∑–∞—Ä–∞–∑"
‚úÖ Migrated: "–Ø–∫ AI –∑–º—ñ–Ω—é—î —É–∫—Ä–∞—ó–Ω—Å—å–∫—É –ª–æ–≥—ñ—Å—Ç–∏–∫—É"
...
‚ú® Migration completed!
```

## –ö—Ä–æ–∫ 7: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ Supabase Dashboard ‚Üí **Database** ‚Üí **Tables** ‚Üí **blog_posts**
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –≤—Å—ñ —Å—Ç–∞—Ç—Ç—ñ —ñ–º–ø–æ—Ä—Ç—É–≤–∞–ª–∏—Å—è
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å dev —Å–µ—Ä–≤–µ—Ä: `npm run dev`
4. –í—ñ–¥–∫—Ä–∏–π—Ç–µ `http://localhost:3000/blog` - –¥–∞–Ω—ñ —Ç–µ–ø–µ—Ä –∑ Supabase!

## –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
- ‚úÖ –í—Å—ñ –¥–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ Supabase
- ‚úÖ API —Ä–æ—É—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å Supabase
- ‚úÖ –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å –ø—Ä–∞—Ü—é—î –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
- ‚úÖ –ì–æ—Ç–æ–≤—ñ –¥–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è upload –∑–æ–±—Ä–∞–∂–µ–Ω—å

## Troubleshooting

### –ü–æ–º–∏–ª–∫–∞: "Missing Supabase credentials"
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ `.env.local` —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —ñ –º—ñ—Å—Ç–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –∫–ª—é—á—ñ
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å dev —Å–µ—Ä–≤–µ—Ä –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö

### –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó: "permission denied"
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ RLS policies –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ú–æ–∂–µ—Ç–µ —Ç–∏–º—á–∞—Å–æ–≤–æ –≤–∏–º–∫–Ω—É—Ç–∏ RLS –¥–ª—è –º—ñ–≥—Ä–∞—Ü—ñ—ó –≤ Supabase Dashboard

### –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ bucket `images` —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —ñ public
- URL –º–∞—î –±—É—Ç–∏ —É —Ñ–æ—Ä–º–∞—Ç—ñ: `https://xxxxx.supabase.co/storage/v1/object/public/images/...`

## –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

**Real-time –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:**
```typescript
supabase
  .channel('blog-changes')
  .on('postgres_changes', { event: '*', schema: 'public', table: 'blog_posts' },
    (payload) => console.log('Change:', payload)
  )
  .subscribe()
```

**–ü–æ–≤–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–∏–π –ø–æ—à—É–∫:**
```sql
-- –î–æ–¥–∞–π—Ç–µ –≤ SQL Editor
ALTER TABLE blog_posts ADD COLUMN search_vector tsvector;
CREATE INDEX idx_blog_posts_search ON blog_posts USING gin(search_vector);
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –±–µ–∫–∞–ø–∏:**
- Supabase –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–±–∏—Ç—å –±–µ–∫–∞–ø–∏ —â–æ–¥–Ω—è
- –î–æ—Å—Ç—É–ø–Ω—ñ –≤ Dashboard ‚Üí **Database** ‚Üí **Backups**
